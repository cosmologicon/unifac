<!DOCTYPE html>
<html>
<head>
<title>UFX.resource test</title>
<style>
body {
    background: black; color: white;
    font-family: 'Viga';
    font-size: 110%;
}
h1 {
    font-size: 160%;
    text-align: center;
    margin-left: auto;
    margin-right: auto;
}
input {
    background: inherit; color: inherit; border: none;
    font-family: inherit; font-size: inherit;
    width: 20em;
}
table {
    margin: auto;
}
td {
    text-align: right
}
</style>

<script src="../src/resource.js"></script>
<script src="../src/random.js"></script>
<body>
<h1>UFX.resource test</h1>

<canvas id=canvas style="border: thin blue solid"></canvas>
<p><button type=button onclick="qplay(UFX.resource.sounds.jumpwav)">Play wav</button>
<p><button type=button onclick="qplay(UFX.resource.sounds.jumpogg)">Play ogg</button>
<p><button type=button onclick="qplay(UFX.resource.sounds.jumpmp3)">Play mp3</button>
<p><button type=button onclick="qplay(multijump)">Play Multisound</button>


<script>
window.onerror = function (error, url, line) {
    document.body.innerHTML = "<p>Error in: "+url+"<p>line "+line+"<pre>"+error+"</pre>"
}
UFX.resource.onload = function () {
    context.fillStyle = "#004"
    context.fillRect(0, 0, 300, 300)
    context.font = "40px 'Viga'"
    context.fillStyle = "white"
    context.fillText("resource!", 80, 100)
    context.scale(0.5, 0.5)
    context.drawImage(UFX.resource.images.abigail, 0, 0)
    multijump = UFX.resource.Multisound([UFX.resource.sounds.jumpwav])
}

function qplay (sound) {
    sound.pause()
    sound.currentTime = 0
    sound.play()
}

UFX.resource.base = "data"
UFX.resource.load({
	abigail: "abigail.png",
	jumpwav: "jump.wav",
	jumpogg: "jump.ogg",
	jumpmp3: "jump.mp3",
})
UFX.resource.loadwebfonts("Viga")

var canvas = document.getElementById("canvas")
canvas.width = 300
canvas.height = 300
var context = canvas.getContext("2d")
context.fillStyle = "black"
context.fillRect(0, 0, 300, 300)
context.fillStyle = "white"
context.fillText("Loading...", 0, 0)

</script>


